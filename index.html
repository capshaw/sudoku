<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta name="description" content="A Sudoku generator for creating printed puzzle sets"/>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Paper Sudoku | Sudoku for Printing</title>
    <link rel="icon" type="image/png" href="img/icon.png" />
    <link rel="stylesheet" type="text/css" href="css/sudoku.css"/>
</head>
<body>
    <div id="loadingPopover" class="loading"></div>
    <div id="options">
        <div class="logo" aria-label="Paper Sudoku logo"></div>
        <h2>
            About
        </h2>
        <p>
            Welcome! This is a sudoku generator optimized for print or tablet usage.
        </p>
        <p>
            To use, first configure your options below and then use your browser print
            functionality. Be mindful of the browser options and paper size you have set there.
        </p>
        <h2>
            Options
        </h2>
        <form>
            <input-numeric
                name="configurationNumPuzzles"
                header="Number of puzzles"
                min="1"
                max="1000"
                value="5"></input-numeric>
            <input-select
                name="configurationPaperSize"
                header="Paper Size"
                options="A6,A5,Letter"
                value="A5"></input-select>
            <input-select
                name="configurationDifficulty"
                header="Difficulty"
                options="Easy,Medium"
                value="Medium"></input-select>
            </input-select>
            <input-checkbox
                name="configurationRequireSymmetry"
                header="Clue symmetry"
                summary="Makes prettier rotationally symmetrical puzzles"
                value="true"></input-checkbox>
            <input-checkbox
                name="configurationShowSolutions"
                header="Include solutions"
                summary="Solutions are printed at the back of the puzzle set"
                value="true"></input-checkbox>
        </form>
        <div id="printButtonContainer">
            <button id="printButton" onClick="print()">Print</button>
        </div>
    </div>
    <div class="paperset" id="overallContainer">
        <div id="puzzlesContainer"></div>
        <div id="solutionsHeader" class="paper title-page hidden">
            <h2>
                Solutions
            </h2>
        </div>
        <div id="solutionsContainer"></div>
    </div>
    <script type="module">
        import { PaperSudoku } from "./src/app/paper-sudoku.js";

        const paperSudoku = new PaperSudoku();

        let config = {
            configurationPaperSize: 'A5',
            configurationDifficulty: 'Medium',
            configurationNumPuzzles: 5,
            configurationRequireSymmetry: true,
            configurationShowSolutions: true,
        };

        document.addEventListener('change-configuration', event => {
            console.log(event.detail);
            config[event.detail.key] = event.detail.value;
            console.log(config);
            paperSudoku.regenerateSudoku(config);
        });

        paperSudoku.regenerateSudoku(config);
    </script>
</body>
</html>
