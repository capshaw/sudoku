// Determined values.
$tileDimension: 50px;
$tileBorderWidth: 1px;
$tileFontMultipler: 0.5;
$boardSize: 9;
$sqrtBoardSize: 3; //IDK why SASS can't do this...
$boardBorderDimension: 20px;

// pink: $accentColor: #E01B5D;
// original blue: $accentColor: #1B7AE0;
$accentColor: #1C59C7;
$accentColorTextDark: darken($accentColor, 40%);
$accentColorTextLight: lighten($accentColor, 40%);

$errorColor: #E01B1E;
$errorColorTextDark: darken($errorColor, 40%);
$errorColorTextLight: lighten($errorColor, 40%);

$tileDarkBorder: #333;
$tileLightBorder: #eee;
$tileBackground: #fff;

$headerHeight: 80px;

// Computed values.
$tileFontSize: $tileFontMultipler * $tileDimension;
$boardDimension: $tileDimension * $boardSize + $tileBorderWidth * ($boardSize + 1);
$squareDimension: $tileDimension * $sqrtBoardSize + $tileBorderWidth * $sqrtBoardSize;

@mixin gradient($from, $to) {
  background-color: $from;
  background-image: -moz-linear-gradient($from, $to);
  background-image: -webkit-gradient(linear, 0% 0%, 0% 100%, from($from), to($to));
  background-image: -webkit-linear-gradient($from, $to);
  background-image: -o-linear-gradient($from, $to);
}

@mixin radialGradient($from, $to) {
  background-color: $from;
  background-image: -moz-radial-gradient($from, $to);
  background-image: -webkit-gradient(radial, 0% 0%, 0% 100%, from($from), to($to));
  background-image: -webkit-radial-gradient($from, $to);
  background-image: -o-radial-gradient($from, $to);
}

html, body {
    width: 100%;
    height: 100%;
    margin: 0;
    padding: 0;
    font-family: 'Belgrano', serif;
    background: #eee;//url('../img/background.png');
    background-size: cover;
    //@include radialGradient(#fff, #ccc);
}

a {
    text-decoration: none;
    transition: all 0.2s;
    color: $tileDarkBorder;
}

a:hover {}

.dropdown-link {
    position: absolute;
    left: 50%;
    top: 50%;
    height: 40px;
    width: 40px;
    line-height: 40px;
    font-size: 2em;
    text-align: center;
    margin-top: -$boardDimension / 2 - $boardBorderDimension;
    margin-left: $boardDimension / 2 + $boardBorderDimension + 20px;
    background: rgba(255,255,255,0.5);
    transition: background 0.2s;
}

.dropdown-link.enabled, .dropdown-link:hover  {
    background: rgba(255,255,255,1);
}

.link-dropdown {
    font-size: 16px;
    line-height: 1.5em;
    width: 180px;
    position: absolute;
    padding: 20px 0;
    background: #fff;
    display: none;
    top: 50%;
    left: 50%;
    margin-top: -$boardDimension / 2 - $boardBorderDimension + 40px;
    margin-left: $boardDimension / 2 + $boardBorderDimension + 20px;
}

.link-dropdown a {
    display: block;
    padding: 2px 20px;
    transition: none;
}

.link-dropdown a:hover {
    background: $tileDarkBorder;
    color: #fff;
}

.sudokuBoard {
	width: $boardDimension;
	height: $boardDimension;
	background: $tileDarkBorder;
    border: $boardBorderDimension solid $tileDarkBorder;
}

.sudokuSquare {
    display: inline-block;
    width: $squareDimension;
    background: $tileLightBorder;
}

.inputFix {
    border: none;
    padding: 0;
    outline: none;
    font-family: inherit;
}

.sudokuTile {
    width: $tileDimension;
    height: $tileDimension;
    background: $tileBackground;
    border-top:  $tileBorderWidth solid $tileLightBorder;
    border-left: $tileBorderWidth solid $tileLightBorder;
    display: inline-block;
    font-size: $tileFontSize;
    text-align: center;
    color: darken($accentColor, 10%);
    line-height: $tileDimension;
    // TODO: scss does this for you?;
    -webkit-user-select: none;
    -khtml-user-select: none;
    -moz-user-select: none;
    -o-user-select: none;
    -ms-user-select: none;
    user-select: none;
}

.sudokuTileError {
    color: $errorColor;
}

.sudokuTile:focus {
    background: $accentColor;
    color: $accentColorTextLight;
    -moz-box-shadow:    inset 0 0 10px $accentColorTextDark;
    -webkit-box-shadow: inset 0 0 10px $accentColorTextDark;
    box-shadow:         inset 0 0 10px $accentColorTextDark;
    border-top:  $tileBorderWidth solid $accentColorTextDark;
    border-left: $tileBorderWidth solid $accentColorTextDark;
}

.edgeTileTop:focus {
    border-top: $tileBorderWidth solid $accentColorTextDark;
    margin-top: -1px;
}

.disabled {
    color: $tileDarkBorder;
}

.edgeTileLeft {
    border-left: $tileBorderWidth solid $tileDarkBorder;
}

.edgeTileTop {
    /* A hacky hack to prevent the triangles where border colors meet. */
    box-shadow: 0 -1px 0 0px $tileDarkBorder;
    border-top: none;
    padding-top: 1px;
}

.divider {
    margin: 10px 0;
    border-top: 1px solid $tileDarkBorder;
    opacity: 0.1;
}

.middle-box {
    position: absolute;
    top: 50%;
    left: 50%;
    width: $boardDimension + 2 * $boardBorderDimension;
    height: $boardDimension + 2 * $boardBorderDimension;
    margin-top: -$boardDimension / 2 - $boardBorderDimension;
    margin-left: -$boardDimension / 2 - $boardBorderDimension;
}

.back {
    width: $boardDimension;
    height: $boardDimension;
    background: #fff;
}

.back div {
    display: none;
    position: absolute;
    top: 0; right: 0; left: 0; bottom: 0;
    padding: 20px;
}

.back p a {
    color: $accentColor;
    position: relative;
}

.back p {
    line-height: 1.6em;
}

.upper-right-x {
    color: #ddd;
    position: absolute;
    top: 0;
    right: 0;
    width: 40px;
    text-align: center;
    display: block;
    font-size: 2.1em;
    transition: color 0.6s;
    z-index: 9000;
}

.upper-right-x:hover {
    color: $tileDarkBorder;
}

@import "flip";

::selection {
    background: #eee;
    color: $tileDarkBorder;
    text-shadow: none;
}